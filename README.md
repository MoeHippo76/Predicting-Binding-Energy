# Predicting-Binding-Energy
Statistical analysis of DFT and Hosphe 2.0. 

Monte Carlo Parameters are all generated by `parameter_generator.py`. This script is imported in the `run_box1.py` and `run_box3.py` to produce parameter sets. This script is also imported by `evaluating event generator/eval_event_generator.py` to evalute the monte carlo event generator. Scatter plot representation of correlation table and distribution plots are also stored and generated here. 

### Before running any of the scripts:
If using gfortran compiler use, gfortran-5, especially for box 3 in the make files.

Add the following lines in the start of `VSLAT/1_dft/run.sh` 
`
cd src
make clean
make
cd .. `

Make sure to change the functional to UNE1 and change the default value of `test` to false. 

Change root directory as needed in 3 of the pythons files for the scripts to find VSLAT. Go to `__main__` to change parameters, root and save location. Change the different flags to reuse parameter sets or to only visualize without rerunning VSLAT.  

### Finding different data and running the scripts:
`run_box1.py` varies parameters and only runs box 1. All Output is stored in `box1_output/dft_<element>_<Nosc> ` for eg `dft_Mg24_4`. Produces distribution of ground state and a band of dft.

`run_box3.py` only varies box 1 parameters but runs upto box 3. All output is stored in `box3_output/chi_<element>_<Nosc>`. Produces a distribution of int_strength and a band of fit anf dft. varying Box 2 parameters is needed.

`linearization.py` Produces derivatives and calculates standard deviation follwing Tia's thesis. Since the values do not match Tia's phd thesis, code is buggy and needs to be checked or redone.

Data from All non standard runs, like only parameter sets under 10 percent of 1 standard deviation, and comparison of pairing  is stored in `other box1 data`.

The `evaluate_parameters.ods` sheets file is to manually analyse a generated parameter set.

## Notes and Observations:
- Stanadard deviation observed is too high compared to other analyses done in the different papers. After using more precise values for the correlation matrix there was an improvement in the width of the variation. For Mg 24, the width reduced to 4 Mev or 2 MeV in one direction. For Gd156, 15 MeV variation was observed. In terms of relative percentages to the ground state energy both Mg24 and Gd156 show approximately 1% variation. 

- Decreasing variation upto 10 percent of one standard deviation did not have much effect. With pairing curves were smoother but no difference in the error due to variation of parameter sets.

- Linear extrapolation  gives standard deviation values that are closer to values observed through Monte Carlo but the linearization code is quite buggy.

- Int_strength does not have much variation in magnitude. But the relative variation from the default parameter set is 5% for Gd 156. and 20% for Mg24. Maybe also varying box 2 parameters will reduce this large relative variation. 

On further evaluation of the event generator, relative errors for most correlation coefficients is under 10 percent. However there are two that regularly have relative error higher than 10 percent.

## Known Bugs: 
- if you are only running the scripts to make plots, make sure to set N as the number of varied events in `/data` subdirectory`.
- If you have run `eval_event_gen` then close and open a new terminal before running the different python box scripts again.

Other relevant papers:
https://journals.aps.org/prc/abstract/10.1103/PhysRevC.85.024304
https://janakiev.com/blog/covariance-matrix/?msclkid=74b56866baa411ec80d2a7b6b76fe7e9
